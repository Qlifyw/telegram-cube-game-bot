
# install mongo db
docker run -d --name <cube-game-db> \
 -e MONGO_INITDB_ROOT_USERNAME=root \
 -e MONGO_INITDB_ROOT_PASSWORD=toor \
 -p 27017:27017 \
 mongo:4.0.20-xenial


# entry in container
docker exec -it <cube-game-db> mongo

 > use <cube-game>                  # create DB
 > db.createCollection("rounds")    # create collections for storing rounds
 > db.createCollection("games")     # create collections for storing games


# The userAdministrator user has only permission to create and manage the database users
use admin
db.createUser(
    {
        user : "admin-login",
        pwd : "admin-pass",
        roles: [ {role:"userAdminAnyDatabase", db: "admin"} ]
        }
    )

use <cube-game-db>
db.createUser(
    {
        user : "mng-client",
        pwd : "mng-client-pass",
        roles: [ {role: "readWrite", db: "<cube-game-db>"} ]
    }
)